---
import Base from "../layouts/Base.astro";
import SectionWrapper from "../components/SectionWrapper.astro";
import Button from "../components/Button.astro";
import Card from "../components/Card.astro";
import AccordionItem from "../components/AccordionItem.astro";
import FormInput from "../components/FormInput.astro";

const metrics = [
  { value: "$1M+", label: "Revenue Generated" },
  { value: "10+", label: "Businesses Mentored" },
  { value: "8+", label: "Years Experience" },
  { value: "100%", label: "Client Retention" },
];

const services = [
  { name: "Growth Strategy", icon: "analytics", desc: "Map out a clear, numbers-driven plan to scale your business past its current ceiling." },
  { name: "Sales Systems", icon: "funnel", desc: "Build repeatable sales processes that close deals without you being in every conversation." },
  { name: "Marketing That Works", icon: "paid-ads", desc: "Get your marketing generating leads consistently — paid, organic, or both." },
  { name: "Operations & Scale", icon: "automation", desc: "Fix the bottlenecks in your operations so growth does not break everything." },
  { name: "Offer Development", icon: "pricing", desc: "Refine your offer so it sells easier, retains longer, and commands higher prices." },
  { name: "Team & Leadership", icon: "team-training", desc: "Build and lead a team that runs without you micromanaging every decision." },
];

const results = [
  { title: "E-Commerce Brand", stat: "3.2x Revenue Growth", period: "8 months", desc: "Restructured their offer suite and acquisition funnels, tripling revenue in under a year." },
  { title: "B2B Services Firm", stat: "$1.2M Added Annual Revenue", period: "12 months", desc: "Built a repeatable sales system and hired the right team to scale past the founder bottleneck." },
  { title: "Agency Owner", stat: "25 hrs/week Freed Up", period: "6 months", desc: "Systemised operations and delegated effectively — revenue still grew 40% with less owner involvement." },
];
---

<Base title="Home" description="Mentorship Ltd — Allan Chan helps business owners scale with mentorship, strategy, and hands-on guidance to grow past your current ceiling.">

  <!-- Hero Section -->
  <section class="relative min-h-[95vh] flex items-center justify-center overflow-hidden">
    <!-- Cinematic slow-zoom background -->
    <div class="absolute inset-0 w-full h-full overflow-hidden">
      <img
        src="/images/heroes/hero-bg.webp"
        alt="Allan Chan"
        class="absolute inset-0 w-full h-full object-cover object-center scale-[1.12]"
        style="animation: slow-zoom 20s cubic-bezier(0.16, 1, 0.3, 1) forwards;"
        loading="eager"
      />
    </div>
    
    <!-- Deep luxury vignette overlay -->
    <div class="absolute inset-0 bg-gradient-to-b from-navy-900/60 via-navy-900/40 to-navy-900"></div>
    <div class="absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_0%,var(--color-navy-900)_120%)]"></div>

    <!-- Ambient glow orbs -->
    <div class="glow-orb w-[600px] h-[600px] bg-gold/[0.04] top-[10%] left-[5%] animate-pulse-slow"></div>
    <div class="glow-orb w-[500px] h-[500px] bg-gold/[0.03] bottom-[15%] right-[10%] animate-pulse-slow" style="animation-delay: 2s;"></div>

    <!-- Content -->
    <div class="relative z-10 max-w-7xl mx-auto px-5 sm:px-6 lg:px-8 w-full py-24 sm:py-32 flex flex-col items-center text-center">
      <div class="max-w-4xl flex flex-col items-center">
        <p class="text-gold font-bold text-xs tracking-[0.2em] sm:tracking-[0.3em] uppercase mb-6 sm:mb-8"
           data-hero-motion="blur-reveal" data-hero-delay="0.1">
          Allan Chan
        </p>
        <div class="overflow-hidden mb-6 sm:mb-8 pb-2">
          <h1 class="text-hero leading-tight" data-hero-motion="stagger-words" data-hero-delay="0.3">
            I Help Business Owners Scale Past Their Current Ceiling
          </h1>
        </div>
        <p class="text-body sm:text-body-lg text-text-secondary max-w-2xl mb-10 sm:mb-12"
           data-hero-motion="blur-reveal" data-hero-delay="0.6">
          Most business owners hit a wall where what got them here will not get them there. I work with you directly — strategy, systems, and execution — so you break through it.
        </p>
        <div data-hero-motion="fade-up" data-hero-delay="0.8">
          <Button variant="primary" size="lg" href="https://calendly.com/allan-chan-roseyco/one-on-one" target="_blank" rel="noopener noreferrer">
            Book a Free Call
          </Button>
        </div>
      </div>
    </div>

    <!-- Minimal Scroll indicator -->
    <div class="absolute bottom-10 left-1/2 -translate-x-1/2 flex flex-col items-center gap-3 overflow-hidden"
         data-hero-motion="blur-reveal" data-hero-delay="1.2">
      <span class="text-text-tertiary text-[10px] uppercase tracking-[0.2em] font-bold">Discover</span>
      <div class="h-12 w-[1px] bg-gradient-to-b from-transparent via-white/30 to-transparent"></div>
    </div>
    
    <style>
      @keyframes slow-zoom {
        from { transform: scale(1.15) translateY(-2%); }
        to { transform: scale(1) translateY(0); }
      }
    </style>
  </section>

  <!-- Authority Metrics Bar -->
  <section class="bg-navy-950 border-y border-white/5 relative z-20 shadow-2xl py-12 sm:py-16">
    <SectionWrapper width="wide">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-8 md:gap-4 text-center divide-x divide-white/5">
        {metrics.map((metric, i) => (
          <div class="px-4" data-motion="blur-reveal" data-motion-delay={`${i * 0.1}`}>
            <p class="text-[clamp(2.5rem,4vw,3.5rem)] leading-none text-gold font-heading font-bold mb-3">{metric.value}</p>
            <p class="text-text-secondary text-[10px] tracking-[0.2em] uppercase font-bold">{metric.label}</p>
          </div>
        ))}
      </div>
    </SectionWrapper>
  </section>

  <!-- About Section (Editorial Layout) -->
  <section class="overflow-hidden relative py-20 sm:py-32">
    <!-- Subtle background accent -->
    <div class="absolute right-0 top-0 w-1/3 h-full bg-navy-950/50 block hidden lg:block"></div>
    <SectionWrapper width="wide">
      <div class="grid grid-cols-1 lg:grid-cols-12 gap-12 lg:gap-20 items-center">
        <!-- Content Side -->
        <div class="lg:col-span-5 relative z-10 lg:pl-4">
          <div class="inline-flex items-center gap-4 mb-6" data-motion="blur-reveal">
            <div class="h-[1px] w-12 bg-gold"></div>
            <p class="text-gold font-bold text-xs tracking-[0.2em] uppercase">The Mentor</p>
          </div>
          <h2 class="text-h2 mb-10 leading-tight" data-motion="stagger-words" data-motion-delay="0.1">
            Hey, I'm <span class="text-white italic font-light">Allan</span>
          </h2>

          <div class="space-y-6">
            <p class="text-body text-text-secondary leading-relaxed" data-motion="blur-reveal" data-motion-delay="0.2">
              A few years ago I hit a wall with my own business. Revenue had plateaued, I was working more hours than ever, and nothing I tried seemed to move the needle. I hired consultants, read every business book, attended the conferences — and most of it was either too generic or too theoretical to actually help.
            </p>
            <p class="text-body text-text-secondary leading-relaxed" data-motion="blur-reveal" data-motion-delay="0.3">
              So I went deep. I studied what actually makes businesses scale — the systems, the offers, the operations, the leadership. I tested everything in my own business first, then started helping other owners do the same.
            </p>
            <p class="text-body-lg text-white font-heading italic leading-relaxed pt-2" data-motion="blur-reveal" data-motion-delay="0.4">
              "Now I work directly with business owners who are in that same spot I was. Not as a consultant who hands you a plan and disappears — as a mentor who gets in the trenches with you until the problem is solved."
            </p>
          </div>
        </div>
        
        <!-- Image Side (with V2 Parallax) -->
        <div class="lg:col-span-7 relative h-full">
          <div class="aspect-[4/3] sm:aspect-[4/5] lg:aspect-[3/4] relative overflow-hidden rounded-2xl shadow-2xl transition-transform duration-700 hover:scale-[1.02]" data-motion="blur-reveal" data-motion-delay="0.3">
            <!-- Increased base scale and height to allow room for parallax shifting -->
            <img
              src="/images/heroes/alan-networking-2x.webp"
              alt="Allan Chan networking with business owners at an event"
              class="absolute inset-x-0 -top-[10%] w-full h-[120%] object-cover object-center"
              data-parallax="-60"
              loading="lazy"
            />
            <div class="absolute inset-0 bg-gradient-to-t from-navy-900/80 via-transparent to-transparent z-10"></div>
          </div>
        </div>
      </div>
    </SectionWrapper>
  </section>

  <!-- Companies Section -->
  <SectionWrapper width="wide" class="py-20 sm:py-32 border-b border-white/5">
    <div class="flex flex-col md:flex-row md:items-end justify-between gap-6 mb-12 sm:mb-16">
      <div class="max-w-2xl">
        <div class="inline-flex items-center gap-4 mb-4" data-motion="blur-reveal">
          <p class="text-gold font-bold text-xs tracking-[0.2em] uppercase">The Portfolio</p>
          <div class="h-[1px] w-12 bg-gold"></div>
        </div>
        <h2 class="text-h2" data-motion="stagger-words" data-motion-delay="0.1">Companies I've Built</h2>
      </div>
      <p class="text-body text-text-secondary max-w-md pb-1" data-motion="blur-reveal" data-motion-delay="0.2">
        I don't just advise — I build. These are the businesses I own and operate.
      </p>
    </div>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-8">
      <a href="https://www.elevateoco.com/en-gb" target="_blank" rel="noopener noreferrer" class="group h-full transition-transform duration-500 hover:scale-[1.03]" data-motion="fade-up" data-motion-delay="0.1">
        <Card class="h-full">
          <div class="flex flex-col items-center text-center gap-4 h-full">
            <img src="/images/logos/elevateoco.webp" alt="Elevateo Co" class="h-16 w-auto object-contain animate-float" style="animation-delay: 0s;" loading="lazy" />
            <div>
              <h3 class="text-h3 mb-2 group-hover:text-white transition-colors">Elevateo Co</h3>
              <p class="text-text-secondary text-sm">AI-driven growth holding company building complete growth engines for ambitious businesses.</p>
            </div>
          </div>
        </Card>
      </a>
      <a href="https://www.roseyco.com/" target="_blank" rel="noopener noreferrer" class="group h-full transition-transform duration-500 hover:scale-[1.03]" data-motion="fade-up" data-motion-delay="0.2">
        <Card class="h-full">
          <div class="flex flex-col items-center text-center gap-4 h-full">
            <img src="/images/logos/roseyco.webp" alt="Rosey Co" class="h-16 w-auto object-contain animate-float" style="animation-delay: 0.75s;" loading="lazy" />
            <div>
              <h3 class="text-h3 mb-2 group-hover:text-white transition-colors">Rosey Co</h3>
              <p class="text-text-secondary text-sm">Global social media marketing agency helping businesses generate more customers through SEO, social media, and paid ads.</p>
            </div>
          </div>
        </Card>
      </a>
      <a href="https://www.boltloop.co/en-GB" target="_blank" rel="noopener noreferrer" class="group h-full transition-transform duration-500 hover:scale-[1.03]" data-motion="fade-up" data-motion-delay="0.3">
        <Card class="h-full">
          <div class="flex flex-col items-center text-center gap-4 h-full">
            <img src="/images/logos/boltloop.webp" alt="Boltloop" class="h-16 w-auto object-contain animate-float" style="animation-delay: 1.5s;" loading="lazy" />
            <div>
              <h3 class="text-h3 mb-2 group-hover:text-white transition-colors">Boltloop</h3>
              <p class="text-text-secondary text-sm">Custom AI and automation solutions that help businesses eliminate repetitive manual tasks.</p>
            </div>
          </div>
        </Card>
      </a>
      <a href="https://www.bluepillar.co/" target="_blank" rel="noopener noreferrer" class="group h-full transition-transform duration-500 hover:scale-[1.03]" data-motion="fade-up" data-motion-delay="0.4">
        <Card class="h-full">
          <div class="flex flex-col items-center text-center gap-4 h-full">
            <img src="/images/logos/bluepillar.webp" alt="BluePillar" class="h-16 w-auto object-contain animate-float" style="animation-delay: 2.25s;" loading="lazy" />
            <div>
              <h3 class="text-h3 mb-2 group-hover:text-white transition-colors">BluePillar</h3>
              <p class="text-text-secondary text-sm">E-commerce retailer offering premium quality products crafted for modern living.</p>
            </div>
          </div>
        </Card>
      </a>
    </div>
  </SectionWrapper>

  <!-- What I Help With Section (Bento Grid) -->
  <section class="relative overflow-hidden py-24 sm:py-32">
    <img
      src="/images/heroes/IMG_1081.webp"
      alt=""
      class="absolute inset-0 w-full h-full object-cover object-center"
      loading="lazy"
    />
    <div class="absolute inset-0 bg-navy-900/85"></div>
    <div class="relative z-10">
      <SectionWrapper width="wide">
        <div class="text-center mb-16 sm:mb-20">
          <p class="text-gold font-bold text-xs tracking-[0.2em] uppercase mb-4" data-motion="blur-reveal">Core Focus</p>
          <h2 class="text-h2 mb-6" data-motion="stagger-words" data-motion-delay="0.1">What I Help With</h2>
          <p class="text-body-lg text-text-secondary max-w-2xl mx-auto" data-motion="blur-reveal" data-motion-delay="0.2">
            I work hands-on with business owners across six core areas — whatever is holding your business back right now.
          </p>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8">
          {services.map((service, i) => (
            <!-- V2 Parallax varied by column -->
            <div data-motion="blur-reveal" data-motion-delay={`${i * 0.1}`} data-motion-duration="0.8" data-parallax={i % 2 === 0 ? "-20" : "-40"}>
              <Card class="h-full">
                <div class="flex flex-col gap-6 h-full">
                  <img
                    src={`/images/icons/${service.icon}.webp`}
                    alt=""
                    width="48"
                    height="48"
                    class="w-12 h-12 shrink-0"
                    loading="lazy"
                  />
                  <div>
                    <h3 class="text-h3 mb-3 font-heading">{service.name}</h3>
                    <p class="text-text-secondary text-sm leading-relaxed">{service.desc}</p>
                  </div>
                </div>
              </Card>
            </div>
          ))}
        </div>
      </SectionWrapper>
    </div>
  </section>

  <!-- Results Section -->
  <SectionWrapper width="wide" class="py-24 sm:py-32 border-b border-white/5">
    <div class="flex flex-col items-center text-center mb-16 sm:mb-20">
      <div class="inline-flex items-center gap-4 mb-4" data-motion="blur-reveal">
        <div class="h-[1px] w-8 bg-gold"></div>
        <p class="text-gold font-bold text-xs tracking-[0.2em] uppercase">Outcomes</p>
        <div class="h-[1px] w-8 bg-gold"></div>
      </div>
      <h2 class="text-h2 mb-6" data-motion="stagger-words" data-motion-delay="0.1">Results That Speak for Themselves</h2>
      <p class="text-body-lg text-text-secondary max-w-2xl mx-auto" data-motion="blur-reveal" data-motion-delay="0.2">
        Here is what happens when strategy meets execution. Real businesses, real outcomes.
      </p>
    </div>
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8">
      {results.map((result, i) => (
        <div class="h-full" data-motion="blur-reveal" data-motion-delay={`${i * 0.15}`}>
          <Card class="h-full flex flex-col justify-between group">
            <div>
              <p class="text-white/40 font-bold text-[10px] uppercase tracking-[0.2em] mb-6">{result.title}</p>
              <p class="text-[clamp(1.75rem,2.5vw,2.5rem)] leading-tight font-heading font-bold mb-3 text-gold transition-colors duration-500">{result.stat}</p>
              <p class="text-gold text-[10px] font-bold tracking-[0.2em] uppercase mb-8">In {result.period}</p>
            </div>
            <p class="text-text-secondary text-sm leading-relaxed border-t border-white/10 pt-6 mt-2 group-hover:border-gold/30 transition-colors duration-500">{result.desc}</p>
          </Card>
        </div>
      ))}
    </div>
  </SectionWrapper>

  <!-- Why Section -->
  <section class="relative overflow-hidden py-24 sm:py-32">
    <img
      src="/images/heroes/IMG_1082.webp"
      alt=""
      class="absolute inset-0 w-full h-full object-cover object-center grayscale opacity-80 mix-blend-luminosity scale-105"
      style="animation: slow-zoom 30s ease-out forwards;"
      loading="lazy"
    />
    <div class="absolute inset-0 bg-gradient-to-b from-navy-950 via-navy-900/80 to-navy-950"></div>
    <div class="absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_0%,var(--color-navy-900)_100%)]"></div>
    <div class="relative z-10">
      <SectionWrapper width="narrow">
        <div class="text-center mb-10 sm:mb-14" data-motion="blur-reveal">
          <p class="text-gold font-bold text-xs tracking-[0.2em] uppercase mb-4">The Guarantee</p>
          <h2 class="text-h2 mb-6 leading-tight" data-motion="stagger-words">Why Business Owners Work With Me</h2>
          <p class="text-body-lg text-text-secondary max-w-2xl mx-auto italic font-heading">
            "I am not an advisor who gives you a PDF and disappears. I work alongside you, inside your business, until the problem is solved."
          </p>
        </div>
        <div class="max-w-xl mx-auto space-y-8 mb-10">
          <div class="flex items-start gap-6 border-l border-gold/30 pl-6 py-2 transition-colors duration-500 hover:border-gold group" data-motion="skew-up" data-motion-delay="0.15">
            <span class="text-body-lg text-white group-hover:text-gold transition-colors duration-500">Hands-on, not theoretical — I get in the trenches with you and your team</span>
          </div>
          <div class="flex items-start gap-6 border-l border-gold/30 pl-6 py-2 transition-colors duration-500 hover:border-gold group" data-motion="skew-up" data-motion-delay="0.25">
            <span class="text-body-lg text-white group-hover:text-gold transition-colors duration-500">Custom to your business — no cookie-cutter playbooks or generic frameworks</span>
          </div>
          <div class="flex items-start gap-6 border-l border-gold/30 pl-6 py-2 transition-colors duration-500 hover:border-gold group" data-motion="skew-up" data-motion-delay="0.35">
            <span class="text-body-lg text-white group-hover:text-gold transition-colors duration-500">The goal is your independence — I build systems so you do not need me forever</span>
          </div>
        </div>
        <div class="text-center" data-motion="blur-reveal" data-motion-delay="0.4">
          <Button variant="primary" size="lg" href="https://calendly.com/allan-chan-roseyco/one-on-one" target="_blank" rel="noopener noreferrer">
            Book a Free Call
          </Button>
        </div>
      </SectionWrapper>
    </div>
  </section>

  <!-- FAQ Section -->
  <SectionWrapper width="narrow" class="py-24 sm:py-32">
    <div class="text-center mb-16 sm:mb-20" data-motion="blur-reveal">
      <p class="text-gold font-bold text-xs tracking-[0.2em] uppercase mb-4">Clarity</p>
      <h2 class="text-h2" data-motion="stagger-words">Questions People Ask Me</h2>
    </div>
    <div data-motion="blur-reveal" data-motion-delay="0.15">
      <AccordionItem question="Who do you work with?">
        <p>I work with business owners who are already making money but have hit a ceiling. You have revenue, you have customers, but something is keeping you stuck — whether that is operations, sales, marketing, or team. If you are past the startup phase and ready to scale, we are probably a good fit.</p>
      </AccordionItem>
      <AccordionItem question="What does the mentorship actually look like?">
        <p>It starts with a deep dive into your business — where you are, where you want to go, and what is in the way. From there I build a custom plan and we work through it together. That means regular calls, async support, and me getting into the details of your business alongside you. It is not a course or a group program — it is direct, one-on-one work.</p>
      </AccordionItem>
      <AccordionItem question="How is this different from hiring a consultant?">
        <p>Most consultants hand you a strategy deck and leave. I stay in it with you through execution. I am not here to tell you what to do and disappear — I am here to help you build the systems, make the decisions, and get the results. Think of it as having a partner who has done this before.</p>
      </AccordionItem>
      <AccordionItem question="What kind of results do your clients get?">
        <p>It depends on where you start, but most clients see meaningful progress within the first few months — whether that is increased revenue, better margins, a team that actually runs without them, or all of the above. I will be honest with you upfront about what is realistic for your situation.</p>
      </AccordionItem>
      <AccordionItem question="How much does it cost?">
        <p>It depends on the scope of what we are working on together. I will give you a straight answer on the first call — no hidden fees, no upsells. If it is not the right fit or the right time, I will tell you that too.</p>
      </AccordionItem>
      <AccordionItem question="How do I get started?">
        <p>Book a free call below. We will talk about your business, what you are trying to achieve, and whether I can help. No pressure, no pitch — just a conversation to see if we are a good fit.</p>
      </AccordionItem>
    </div>
  </SectionWrapper>

  <!-- Email Signup Section -->
  <section class="relative overflow-hidden py-24 sm:py-32">
    <img
      src="/images/heroes/IMG_1091.webp"
      alt=""
      class="absolute inset-0 w-full h-full object-cover object-center"
      loading="lazy"
    />
    <div class="absolute inset-0 bg-navy-900/85"></div>
    <div class="relative z-10">
    <SectionWrapper width="narrow" id="signup" class="text-center">
      <h2 class="text-h2 mb-6" data-motion="skew-up">Get on My List</h2>
      <p class="text-body-lg text-text-secondary mb-10 sm:mb-12 max-w-xl mx-auto leading-relaxed" data-motion="blur-reveal" data-motion-delay="0.1">
        Every week I share what is working for the businesses I mentor — growth strategies, scaling lessons, and things most owners figure out too late. It is free and you can unsubscribe whenever.
      </p>
      <form id="email-signup" class="flex flex-col sm:flex-row gap-4 max-w-md mx-auto" data-motion="blur-reveal" data-motion-delay="0.2">
        <FormInput
          type="email"
          name="email"
          placeholder="Enter your email"
          required={true}
          class="flex-1 bg-navy-900 border-white/10 text-white placeholder-text-tertiary focus:border-gold rounded-full px-8 text-center sm:text-left"
        />
        <Button variant="primary" size="md" class="w-full sm:w-auto">Count Me In</Button>
      </form>
      <p id="form-message" class="text-sm mt-4 hidden"></p>
      <p class="text-[10px] text-text-tertiary uppercase tracking-widest mt-6" data-motion="blur-reveal" data-motion-delay="0.3">
        No spam. Unsubscribe anytime.
      </p>
    </SectionWrapper>
    </div>
  </section>

  <script>
    function setupEmailForm() {
      const form = document.getElementById('email-signup') as HTMLFormElement;
      const message = document.getElementById('form-message') as HTMLElement;
      const submitBtn = form?.querySelector('button[type="submit"], button:not([type])') as HTMLButtonElement;
      const originalText = submitBtn?.textContent || 'Count Me In';

      form?.addEventListener('submit', async (e) => {
        e.preventDefault();
        const email = new FormData(form).get('email') as string;

        if (!email || !email.includes('@')) {
          message.textContent = 'Please enter a valid email address.';
          message.className = 'text-sm mt-3 text-error';
          message.classList.remove('hidden');
          return;
        }

        // Disable form while submitting
        submitBtn.disabled = true;
        submitBtn.textContent = 'Sending...';
        message.classList.add('hidden');

        try {
          const res = await fetch('/api/subscribe', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ email }),
          });

          const data = await res.json();

          if (res.ok) {
            message.textContent = "You're in! I'll be in touch.";
            message.className = 'text-sm mt-3 text-success';
            form.reset();
          } else {
            message.textContent = data.error || 'Something went wrong. Please try again.';
            message.className = 'text-sm mt-3 text-error';
          }
        } catch {
          message.textContent = 'Something went wrong. Please try again.';
          message.className = 'text-sm mt-3 text-error';
        }

        message.classList.remove('hidden');
        submitBtn.disabled = false;
        submitBtn.textContent = originalText;
      });
    }

    setupEmailForm();
    document.addEventListener('astro:after-swap', setupEmailForm);
  </script>

</Base>
