---
import Base from "../layouts/Base.astro";
import SectionWrapper from "../components/SectionWrapper.astro";
import Button from "../components/Button.astro";
import Card from "../components/Card.astro";
import AccordionItem from "../components/AccordionItem.astro";
import FormInput from "../components/FormInput.astro";

const metrics = [
  { value: "$XXM+", label: "Revenue Scaled" },
  { value: "XX+", label: "Businesses Mentored" },
  { value: "XX+", label: "Years Experience" },
  { value: "XX%", label: "Client Retention" },
];

const services = [
  { name: "Growth Strategy", icon: "analytics", desc: "Map out a clear, numbers-driven plan to scale your business past its current ceiling." },
  { name: "Sales Systems", icon: "funnel", desc: "Build repeatable sales processes that close deals without you being in every conversation." },
  { name: "Marketing That Works", icon: "paid-ads", desc: "Get your marketing generating leads consistently — paid, organic, or both." },
  { name: "Operations & Scale", icon: "automation", desc: "Fix the bottlenecks in your operations so growth does not break everything." },
  { name: "Offer Development", icon: "pricing", desc: "Refine your offer so it sells easier, retains longer, and commands higher prices." },
  { name: "Team & Leadership", icon: "team-training", desc: "Build and lead a team that runs without you micromanaging every decision." },
];

const results = [
  { title: "E-Commerce Brand", stat: "3.2x Revenue Growth", period: "8 months", desc: "Restructured their offer suite and acquisition funnels, tripling revenue in under a year." },
  { title: "B2B Services Firm", stat: "$1.2M Added Annual Revenue", period: "12 months", desc: "Built a repeatable sales system and hired the right team to scale past the founder bottleneck." },
  { title: "Agency Owner", stat: "25 hrs/week Freed Up", period: "6 months", desc: "Systemised operations and delegated effectively — revenue still grew 40% with less owner involvement." },
];
---

<Base title="Home" description="Mentorship Ltd — Allan Chan helps business owners scale with mentorship, strategy, and hands-on guidance to grow past your current ceiling.">

  <!-- Hero Section -->
  <section class="relative min-h-[85vh] flex items-center overflow-hidden">
    <!-- Background image -->
    <img
      src="/images/heroes/hero-bg.webp"
      alt="Allan Chan"
      class="absolute inset-0 w-full h-full object-cover object-center"
      loading="eager"
    />
    <!-- Dark overlay for text readability -->
    <div class="absolute inset-0 bg-gradient-to-r from-black/90 via-black/75 to-black/40"></div>

    <!-- Ambient glow orbs (elevateoco-style) -->
    <div class="glow-orb w-[500px] h-[500px] bg-white/[0.03] top-[15%] left-[10%] animate-pulse-slow"></div>
    <div class="glow-orb w-[400px] h-[400px] bg-white/[0.02] bottom-[20%] right-[15%] animate-pulse-slow" style="animation-delay: 2s;"></div>

    <!-- Decorative lines (elevateoco-style) -->
    <div class="hero-line top-[25%] origin-left" style="animation-delay: 0.3s;"></div>
    <div class="hero-line top-[75%] origin-right" style="animation-delay: 0.8s;"></div>

    <!-- Content -->
    <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full py-16 sm:py-24">
      <div class="max-w-xl">
        <!-- Staggered hero entrance (elevateoco-style: load-triggered, increasing delays) -->
        <p class="text-text-secondary font-bold text-sm uppercase tracking-wide mb-4"
           data-hero-motion="fade-up-scale" data-hero-delay="0.2">
          Allan Chan
        </p>
        <h1 class="text-hero font-bold mb-6"
            data-hero-motion="fade-up" data-hero-delay="0.4">
          I Help Business Owners Scale Past Their Current Ceiling
        </h1>
        <p class="text-body-lg text-text-secondary max-w-xl mb-8"
           data-hero-motion="fade-up" data-hero-delay="0.6">
          Most business owners hit a wall where what got them here will not get them there. I work with you directly — strategy, systems, and execution — so you break through it.
        </p>
        <div data-hero-motion="fade-up" data-hero-delay="0.8">
          <Button variant="primary" size="lg" href="/#signup">
            Book a Free Call
          </Button>
        </div>
      </div>
    </div>

    <!-- Scroll indicator (elevateoco-style) -->
    <div class="absolute bottom-8 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2"
         data-hero-motion="fade-up" data-hero-delay="1.2">
      <span class="text-text-tertiary text-xs uppercase tracking-widest font-medium">Scroll</span>
      <div class="w-6 h-10 rounded-full border-2 border-navy-600 flex items-start justify-center p-1.5">
        <div class="w-1.5 h-1.5 rounded-full bg-white animate-bounce-slow"></div>
      </div>
    </div>
  </section>

  <!-- Authority Metrics Bar -->
  <section class="bg-navy-950 border-t border-navy-700/30">
    <SectionWrapper width="wide">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
        {metrics.map((metric, i) => (
          <div data-motion="fade-up" data-motion-delay={`${i * 0.1}`}>
            <p class="text-h2 text-white font-bold">{metric.value}</p>
            <p class="text-text-secondary text-sm uppercase tracking-wide mt-1">{metric.label}</p>
          </div>
        ))}
      </div>
    </SectionWrapper>
  </section>

  <!-- About Section (merged from about page) -->
  <section class="relative min-h-[70vh] flex items-center overflow-hidden">
    <!-- Background image with Allan as focal point -->
    <img
      src="/images/heroes/alan-networking-2x.webp"
      alt="Allan Chan networking with business owners at an event"
      class="absolute inset-0 w-full h-full object-cover object-center"
      loading="lazy"
    />
    <!-- Dark overlay — heavier on the text side for readability -->
    <div class="absolute inset-0 bg-gradient-to-r from-black/90 via-black/60 to-transparent"></div>

    <!-- Content -->
    <div class="relative z-10 w-full px-6 sm:px-10 lg:px-50 py-20 md:py-28">
      <div class="max-w-md">
        <h2 class="text-h2 mb-6" data-motion="fade-right" data-motion-delay="0.1" data-motion-duration="0.8">Hey, I'm Allan</h2>

        <p class="text-text-secondary mb-4" data-motion="fade-right" data-motion-delay="0.2" data-motion-duration="0.8">
          A few years ago I hit a wall with my own business. Revenue had plateaued,
          I was working more hours than ever, and nothing I tried seemed to move
          the needle. I hired consultants, read every business book, attended the
          conferences — and most of it was either too generic or too theoretical to
          actually help.
        </p>

        <p class="text-text-secondary mb-4" data-motion="fade-right" data-motion-delay="0.3" data-motion-duration="0.8">
          So I went deep. I studied what actually makes businesses scale — the
          systems, the offers, the operations, the leadership. I tested everything
          in my own business first, then started helping other owners do the same.
        </p>

        <p class="text-text-secondary" data-motion="fade-right" data-motion-delay="0.4" data-motion-duration="0.8">
          Now I work directly with business owners who are in that same spot I was.
          Not as a consultant who hands you a plan and disappears — as a mentor who
          gets in the trenches with you until the problem is solved.
        </p>
      </div>
    </div>
  </section>

  <!-- Companies Section -->
  <SectionWrapper width="wide">
    <div class="text-center mb-12">
      <h2 class="text-h2 mb-4" data-motion="fade-up">Companies I've Built</h2>
      <p class="text-body-lg text-text-secondary max-w-2xl mx-auto" data-motion="fade-up" data-motion-delay="0.1">
        I don't just advise — I build. These are the businesses I own and operate.
      </p>
    </div>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
      <a href="https://www.elevateoco.com/en-gb" target="_blank" rel="noopener noreferrer" class="group h-full transition-transform duration-500 hover:scale-[1.03]" data-motion="fade-up" data-motion-delay="0.1">
        <Card class="h-full">
          <div class="flex flex-col items-center text-center gap-4 h-full">
            <img src="/images/logos/elevateoco.webp" alt="Elevateo Co" class="h-16 w-auto object-contain animate-float" style="animation-delay: 0s;" loading="lazy" />
            <div>
              <h3 class="text-h3 mb-2 group-hover:text-white transition-colors">Elevateo Co</h3>
              <p class="text-text-secondary text-sm">AI-driven growth holding company building complete growth engines for ambitious businesses.</p>
            </div>
          </div>
        </Card>
      </a>
      <a href="https://www.roseyco.com/" target="_blank" rel="noopener noreferrer" class="group h-full transition-transform duration-500 hover:scale-[1.03]" data-motion="fade-up" data-motion-delay="0.2">
        <Card class="h-full">
          <div class="flex flex-col items-center text-center gap-4 h-full">
            <img src="/images/logos/roseyco.webp" alt="Rosey Co" class="h-16 w-auto object-contain animate-float" style="animation-delay: 0.75s;" loading="lazy" />
            <div>
              <h3 class="text-h3 mb-2 group-hover:text-white transition-colors">Rosey Co</h3>
              <p class="text-text-secondary text-sm">Global social media marketing agency helping businesses generate more customers through SEO, social media, and paid ads.</p>
            </div>
          </div>
        </Card>
      </a>
      <a href="https://www.boltloop.co/en-GB" target="_blank" rel="noopener noreferrer" class="group h-full transition-transform duration-500 hover:scale-[1.03]" data-motion="fade-up" data-motion-delay="0.3">
        <Card class="h-full">
          <div class="flex flex-col items-center text-center gap-4 h-full">
            <img src="/images/logos/boltloop.webp" alt="Boltloop" class="h-16 w-auto object-contain animate-float" style="animation-delay: 1.5s;" loading="lazy" />
            <div>
              <h3 class="text-h3 mb-2 group-hover:text-white transition-colors">Boltloop</h3>
              <p class="text-text-secondary text-sm">Custom AI and automation solutions that help businesses eliminate repetitive manual tasks.</p>
            </div>
          </div>
        </Card>
      </a>
      <a href="https://www.bluepillar.co/" target="_blank" rel="noopener noreferrer" class="group h-full transition-transform duration-500 hover:scale-[1.03]" data-motion="fade-up" data-motion-delay="0.4">
        <Card class="h-full">
          <div class="flex flex-col items-center text-center gap-4 h-full">
            <img src="/images/logos/bluepillar.webp" alt="BluePillar" class="h-16 w-auto object-contain animate-float" style="animation-delay: 2.25s;" loading="lazy" />
            <div>
              <h3 class="text-h3 mb-2 group-hover:text-white transition-colors">BluePillar</h3>
              <p class="text-text-secondary text-sm">E-commerce retailer offering premium quality products crafted for modern living.</p>
            </div>
          </div>
        </Card>
      </a>
    </div>
  </SectionWrapper>

  <!-- What I Help With Section -->
  <section class="relative overflow-hidden">
    <img
      src="/images/heroes/IMG_1081.webp"
      alt=""
      class="absolute inset-0 w-full h-full object-cover object-center"
      loading="lazy"
    />
    <div class="absolute inset-0 bg-black/80"></div>
    <div class="relative z-10">
      <SectionWrapper width="wide">
        <div class="text-center mb-12">
          <h2 class="text-h2 mb-4" data-motion="fade-up">What I Help With</h2>
          <p class="text-body-lg text-text-secondary max-w-2xl mx-auto" data-motion="fade-up" data-motion-delay="0.1">
            I work hands-on with business owners across six core areas — whatever is holding your business back right now.
          </p>
        </div>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
          {services.map((service, i) => (
            <div data-motion="fade-up" data-motion-delay={`${i * 0.1}`} data-motion-duration="0.5">
              <Card>
                <div class="flex items-start gap-4">
                  <img
                    src={`/images/icons/${service.icon}.webp`}
                    alt=""
                    width="48"
                    height="48"
                    class="w-12 h-12 shrink-0"
                    loading="lazy"
                  />
                  <div>
                    <h3 class="text-h3 mb-2">{service.name}</h3>
                    <p class="text-text-secondary">{service.desc}</p>
                  </div>
                </div>
              </Card>
            </div>
          ))}
        </div>
      </SectionWrapper>
    </div>
  </section>

  <!-- Results Section -->
  <SectionWrapper width="wide">
    <div class="text-center mb-12">
      <h2 class="text-h2 mb-4" data-motion="fade-up">Results That Speak for Themselves</h2>
      <p class="text-body-lg text-text-secondary max-w-2xl mx-auto" data-motion="fade-up" data-motion-delay="0.1">
        Here is what happens when strategy meets execution. Real businesses, real outcomes.
      </p>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      {results.map((result, i) => (
        <div class="h-full" data-motion="fade-up" data-motion-delay={`${i * 0.12}`} data-motion-duration="0.5">
          <Card class="h-full">
            <p class="text-text-secondary font-bold text-sm uppercase tracking-wide mb-2">{result.title}</p>
            <p class="text-h3 font-bold mb-1">{result.stat}</p>
            <p class="text-text-tertiary text-sm mb-4">In {result.period}</p>
            <p class="text-text-secondary">{result.desc}</p>
          </Card>
        </div>
      ))}
    </div>
  </SectionWrapper>

  <!-- Why Section -->
  <section class="relative overflow-hidden">
    <img
      src="/images/heroes/IMG_1082.webp"
      alt=""
      class="absolute inset-0 w-full h-full object-cover object-center"
      loading="lazy"
    />
    <div class="absolute inset-0 bg-black/80"></div>
    <div class="relative z-10">
      <SectionWrapper width="narrow">
        <h2 class="text-h2 text-center mb-4" data-motion="fade-up">Why Business Owners Work With Me</h2>
        <p class="text-body-lg text-text-secondary text-center max-w-2xl mx-auto mb-10" data-motion="fade-up" data-motion-delay="0.1">
          I am not an advisor who gives you a PDF and disappears. I work alongside you, inside your business, until the problem is solved.
        </p>
        <div class="max-w-lg mx-auto space-y-4 mb-10">
          <div class="flex items-start gap-3" data-motion="fade-left" data-motion-delay="0.15">
            <svg class="h-6 w-6 text-white shrink-0 mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
            </svg>
            <span class="text-body-lg text-text-secondary">Hands-on, not theoretical — I get in the trenches with you and your team</span>
          </div>
          <div class="flex items-start gap-3" data-motion="fade-left" data-motion-delay="0.25">
            <svg class="h-6 w-6 text-white shrink-0 mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
            </svg>
            <span class="text-body-lg text-text-secondary">Custom to your business — no cookie-cutter playbooks or generic frameworks</span>
          </div>
          <div class="flex items-start gap-3" data-motion="fade-left" data-motion-delay="0.35">
            <svg class="h-6 w-6 text-white shrink-0 mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
            </svg>
            <span class="text-body-lg text-text-secondary">The goal is your independence — I build systems so you do not need me forever</span>
          </div>
        </div>
        <div class="text-center" data-motion="fade-up" data-motion-delay="0.4">
          <Button variant="primary" size="md" href="/#signup">
            Book a Free Call
          </Button>
        </div>
      </SectionWrapper>
    </div>
  </section>

  <!-- FAQ Section -->
  <SectionWrapper width="narrow">
    <h2 class="text-h2 text-center mb-10" data-motion="fade-up">Questions People Ask Me</h2>
    <div data-motion="fade-up" data-motion-delay="0.15">
      <AccordionItem question="Who do you work with?">
        <p>I work with business owners who are already making money but have hit a ceiling. You have revenue, you have customers, but something is keeping you stuck — whether that is operations, sales, marketing, or team. If you are past the startup phase and ready to scale, we are probably a good fit.</p>
      </AccordionItem>
      <AccordionItem question="What does the mentorship actually look like?">
        <p>It starts with a deep dive into your business — where you are, where you want to go, and what is in the way. From there I build a custom plan and we work through it together. That means regular calls, async support, and me getting into the details of your business alongside you. It is not a course or a group program — it is direct, one-on-one work.</p>
      </AccordionItem>
      <AccordionItem question="How is this different from hiring a consultant?">
        <p>Most consultants hand you a strategy deck and leave. I stay in it with you through execution. I am not here to tell you what to do and disappear — I am here to help you build the systems, make the decisions, and get the results. Think of it as having a partner who has done this before.</p>
      </AccordionItem>
      <AccordionItem question="What kind of results do your clients get?">
        <p>It depends on where you start, but most clients see meaningful progress within the first few months — whether that is increased revenue, better margins, a team that actually runs without them, or all of the above. I will be honest with you upfront about what is realistic for your situation.</p>
      </AccordionItem>
      <AccordionItem question="How much does it cost?">
        <p>It depends on the scope of what we are working on together. I will give you a straight answer on the first call — no hidden fees, no upsells. If it is not the right fit or the right time, I will tell you that too.</p>
      </AccordionItem>
      <AccordionItem question="How do I get started?">
        <p>Book a free call below. We will talk about your business, what you are trying to achieve, and whether I can help. No pressure, no pitch — just a conversation to see if we are a good fit.</p>
      </AccordionItem>
    </div>
  </SectionWrapper>

  <!-- Email Signup Section -->
  <section class="relative overflow-hidden">
    <img
      src="/images/heroes/IMG_1091.webp"
      alt=""
      class="absolute inset-0 w-full h-full object-cover object-center"
      loading="lazy"
    />
    <div class="absolute inset-0 bg-black/80"></div>
    <div class="relative z-10">
    <SectionWrapper width="narrow" id="signup" class="text-center">
      <h2 class="text-h2 mb-4" data-motion="fade-up">Get on My List</h2>
      <p class="text-body-lg text-text-secondary mb-8 max-w-xl mx-auto" data-motion="fade-up" data-motion-delay="0.1">
        Every week I share what is working for the businesses I mentor — growth strategies, scaling lessons, and things most owners figure out too late. It is free and you can unsubscribe whenever.
      </p>
      <form id="email-signup" class="flex flex-col sm:flex-row gap-3 max-w-md mx-auto" data-motion="fade-up" data-motion-delay="0.2">
        <FormInput
          type="email"
          name="email"
          placeholder="Enter your email"
          required={true}
          class="flex-1"
        />
        <Button variant="primary" size="md">Count Me In</Button>
      </form>
      <p id="form-message" class="text-sm mt-3 hidden"></p>
      <p class="text-xs text-text-tertiary mt-4">
        No spam. Unsubscribe anytime.
      </p>
    </SectionWrapper>
    </div>
  </section>

  <script>
    function setupEmailForm() {
      const form = document.getElementById('email-signup') as HTMLFormElement;
      const message = document.getElementById('form-message') as HTMLElement;

      form?.addEventListener('submit', (e) => {
        e.preventDefault();
        const email = new FormData(form).get('email') as string;

        if (!email || !email.includes('@')) {
          message.textContent = 'Please enter a valid email address.';
          message.className = 'text-sm mt-3 text-error';
          message.classList.remove('hidden');
          return;
        }

        // Phase 4 will replace this with Kit API call
        message.textContent = "You're in! I'll be in touch.";
        message.className = 'text-sm mt-3 text-success';
        message.classList.remove('hidden');
        form.reset();
      });
    }

    setupEmailForm();
    document.addEventListener('astro:after-swap', setupEmailForm);
  </script>

</Base>
