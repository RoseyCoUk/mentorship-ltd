---
import Base from "../layouts/Base.astro";
import SectionWrapper from "../components/SectionWrapper.astro";
import Button from "../components/Button.astro";
import FormInput from "../components/FormInput.astro";
---

<Base title="About" description="Meet Alan Chan — I help business owners scale through hands-on mentorship, strategy, and systems that actually work.">

  <!-- Hero Section -->
  <SectionWrapper class="pt-16 sm:pt-20 pb-8 sm:pb-12">
    <h1 class="text-h1 text-center mb-4">Hey, I'm Alan</h1>
    <p class="text-body-lg text-text-secondary text-center max-w-2xl mx-auto">
      I work directly with business owners who have hit a ceiling — and I help them break through it.
    </p>
  </SectionWrapper>

  <!-- Story Section -->
  <SectionWrapper width="wide">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
      <!-- Illustration -->
      <div class="flex justify-center">
        <img
          src="/images/heroes/flowryse-2.webp"
          alt="Alan Chan illustration"
          width="480"
          height="480"
          class="w-full max-w-sm"
          loading="lazy"
        />
      </div>

      <!-- Story -->
      <div>
        <h2 class="text-h2 mb-6">My Story</h2>

        <p class="text-text-secondary mb-4">
          A few years ago I hit a wall with my own business. Revenue had plateaued,
          I was working more hours than ever, and nothing I tried seemed to move
          the needle. I hired consultants, read every business book, attended the
          conferences — and most of it was either too generic or too theoretical to
          actually help.
        </p>

        <p class="text-text-secondary mb-4">
          So I went deep. I studied what actually makes businesses scale — the
          systems, the offers, the operations, the leadership. I tested everything
          in my own business first, then started helping other owners do the same.
          Over time I built frameworks that consistently work, regardless of the
          industry.
        </p>

        <p class="text-text-secondary">
          Now I work directly with business owners who are in that same spot I was.
          Not as a consultant who hands you a plan and disappears — as a mentor who
          gets in the trenches with you until the problem is solved. No courses, no
          group programs. Just hands-on, one-on-one work to get your business where
          you want it to go.
        </p>
      </div>
    </div>
  </SectionWrapper>

  <!-- My Approach Section -->
  <section class="bg-navy-950">
    <SectionWrapper width="narrow">
      <h2 class="text-h2 mb-6">My Approach</h2>
      <p class="text-text-secondary mb-4">
        I do not do theory. Everything I work on with clients comes from real experience scaling real businesses. You will not get a generic playbook — you will get a plan built specifically for where your business is right now and where you want to take it.
      </p>
      <p class="text-text-secondary mb-4">
        I believe every business owner should eventually not need me. That is the goal. I help you build the systems, develop the skills, and make the hires so that your business runs and grows without me in the picture. If a mentor wants you dependent on them forever, they are not a mentor — they are a vendor.
      </p>
      <p class="text-text-secondary">
        I am selective about who I work with because I go deep. If we work together, you get my full attention and I treat your business like my own. That is the only way I know how to do it.
      </p>
    </SectionWrapper>
  </section>

  <!-- Email Signup Section -->
  <section class="bg-navy-800">
    <SectionWrapper width="narrow" id="signup" class="text-center">
      <h2 class="text-h2 mb-4">Want to Stay in Touch?</h2>
      <p class="text-body-lg text-text-secondary mb-8 max-w-xl mx-auto">
        I send a weekly email with scaling lessons, business breakdowns, and things I am seeing work across the businesses I mentor. No pitch every email — just useful things.
      </p>
      <form id="email-signup" class="flex flex-col sm:flex-row gap-3 max-w-md mx-auto">
        <FormInput
          type="email"
          name="email"
          placeholder="Enter your email"
          required={true}
          class="flex-1"
        />
        <Button variant="primary" size="md">I'm In</Button>
      </form>
      <p id="form-message" class="text-sm mt-3 hidden"></p>
      <p class="text-xs text-text-tertiary mt-4">
        No spam. Unsubscribe anytime.
      </p>
    </SectionWrapper>
  </section>

  <script>
    function setupEmailForm() {
      const form = document.getElementById('email-signup') as HTMLFormElement;
      const message = document.getElementById('form-message') as HTMLElement;

      form?.addEventListener('submit', (e) => {
        e.preventDefault();
        const email = new FormData(form).get('email') as string;

        if (!email || !email.includes('@')) {
          message.textContent = 'Please enter a valid email address.';
          message.className = 'text-sm mt-3 text-error';
          message.classList.remove('hidden');
          return;
        }

        // Phase 4 will replace this with Kit API call
        message.textContent = "You're in! I'll be in touch.";
        message.className = 'text-sm mt-3 text-success';
        message.classList.remove('hidden');
        form.reset();
      });
    }

    setupEmailForm();
    document.addEventListener('astro:after-swap', setupEmailForm);
  </script>

</Base>
