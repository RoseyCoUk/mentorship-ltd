---
import Base from "../layouts/Base.astro";
import SectionWrapper from "../components/SectionWrapper.astro";
import Button from "../components/Button.astro";
import FormInput from "../components/FormInput.astro";
---

<Base title="About" description="Meet Alan Chan — I teach business owners digital marketing through practical courses built on real campaigns.">

  <!-- Hero Section -->
  <SectionWrapper class="pt-16 sm:pt-20 pb-8 sm:pb-12">
    <h1 class="text-h1 text-center mb-4">Hey, I'm Alan</h1>
    <p class="text-body-lg text-text-secondary text-center max-w-2xl mx-auto">
      I help business owners learn digital marketing without the BS — real campaigns, real numbers, real results.
    </p>
  </SectionWrapper>

  <!-- Story Section -->
  <SectionWrapper width="wide">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
      <!-- Illustration -->
      <div class="flex justify-center">
        <img
          src="/images/heroes/flowryse-2.webp"
          alt="Alan Chan illustration"
          width="480"
          height="480"
          class="w-full max-w-sm"
          loading="lazy"
        />
      </div>

      <!-- Story -->
      <div>
        <h2 class="text-h2 mb-6">My Story</h2>

        <p class="text-text-secondary mb-4">
          A few years ago I was where you probably are — running a business and
          trying to figure out marketing on my own. I watched every tutorial,
          hired agencies that charged a fortune and delivered nothing, and
          burned through ad budgets just guessing. It was frustrating.
        </p>

        <p class="text-text-secondary mb-4">
          So I decided to actually learn it. I ran my own campaigns across SEO,
          Google Ads, Meta Ads, email, and social — and I tracked everything.
          Every dollar spent, every test, every result. Over time I built
          frameworks that consistently worked, regardless of the industry or
          budget.
        </p>

        <p class="text-text-secondary">
          Now I am turning all of that into courses so you can skip the
          expensive mistakes and just learn what works. No gatekeeping, no
          fluff. Just me showing you exactly what I do, step by step.
        </p>
      </div>
    </div>
  </SectionWrapper>

  <!-- How I Teach Section -->
  <section class="bg-navy-950">
    <SectionWrapper width="narrow">
      <h2 class="text-h2 mb-6">How I Teach</h2>
      <p class="text-text-secondary mb-4">
        I do not teach theory. Every lesson comes from a real campaign I ran with real money. You will see what I spent, what I tested, what worked, and what did not. I think that is the only way marketing should be taught.
      </p>
      <p class="text-text-secondary mb-4">
        I do not think you need to become a marketing expert to grow your business. But you do need to know enough to either do it yourself or know when an agency is wasting your money. That is what I am here to help with.
      </p>
      <p class="text-text-secondary">
        Every course comes with my templates, checklists, and the actual tools I use. You can take what I show you and apply it to your business the same day.
      </p>
    </SectionWrapper>
  </section>

  <!-- Email Signup Section -->
  <section class="bg-navy-800">
    <SectionWrapper width="narrow" id="signup" class="text-center">
      <h2 class="text-h2 mb-4">Want to Stay in Touch?</h2>
      <p class="text-body-lg text-text-secondary mb-8 max-w-xl mx-auto">
        I send a weekly email with marketing lessons, campaign breakdowns, and stuff I am working on. No pitch every email — just useful things.
      </p>
      <form id="email-signup" class="flex flex-col sm:flex-row gap-3 max-w-md mx-auto">
        <FormInput
          type="email"
          name="email"
          placeholder="Enter your email"
          required={true}
          class="flex-1"
        />
        <Button variant="primary" size="md">I'm In</Button>
      </form>
      <p id="form-message" class="text-sm mt-3 hidden"></p>
      <p class="text-xs text-text-tertiary mt-4">
        No spam. Unsubscribe anytime.
      </p>
    </SectionWrapper>
  </section>

  <script>
    function setupEmailForm() {
      const form = document.getElementById('email-signup') as HTMLFormElement;
      const message = document.getElementById('form-message') as HTMLElement;

      form?.addEventListener('submit', (e) => {
        e.preventDefault();
        const email = new FormData(form).get('email') as string;

        if (!email || !email.includes('@')) {
          message.textContent = 'Please enter a valid email address.';
          message.className = 'text-sm mt-3 text-error';
          message.classList.remove('hidden');
          return;
        }

        // Phase 4 will replace this with Kit API call
        message.textContent = "You're in! I'll be in touch.";
        message.className = 'text-sm mt-3 text-success';
        message.classList.remove('hidden');
        form.reset();
      });
    }

    setupEmailForm();
    document.addEventListener('astro:after-swap', setupEmailForm);
  </script>

</Base>
